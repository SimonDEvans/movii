!function($){$(document).ready(function(){})}(jQuery);var homeImage=function(){function o(){$(".home__image").animate({opacity:1},600,function(){$(".home__image").animate({opacity:.6},600,function(){e++,e>t.length-1&&(e=0);var a=t[e];$(".home__image").css("background-image","url("+a+")"),$(".home__image").animate({opacity:1},600,function(){setTimeout(o,5e3)})})})}var t=Array("https://image.tmdb.org/t/p/original/PIXSMakrO3s2dqA7mCvAAoVR0E.jpg","https://image.tmdb.org/t/p/original/1jgulSytTJcATkGX8syGbD2glXD.jpg","https://image.tmdb.org/t/p/original/9X3cDZb4GYGQeOnZHLwMcCFz2Ro.jpg","https://image.tmdb.org/t/p/original/qXQinDhDZkTiqEGLnav0h1YSUu8.jpg","https://image.tmdb.org/t/p/original/cNLZ7YGRikb4IsLblrzu86ndZPw.jpg","https://image.tmdb.org/t/p/original/6bbZ6XyvgfjhQwbplnUh1LSj1ky.jpg","https://image.tmdb.org/t/p/original/dkMD5qlogeRMiEixC4YNPUvax2T.jpg"),e=0;setTimeout(o,5e3)},movii=function(){var o="d69ac47b3abbdd090506891feaac1088";proxyUrl="https://query.yahooapis.com/v1/public/yql",movieDB="https://api.themoviedb.org/3/";var t=function(){function t(){d.empty()}function a(){var e=u.val(),a=e.replace(/\s/g,"%20"),r=""+movieDB+"search/movie?query="+a+"&api_key="+o;0==a.trim().length?console.log("nada"):(t(),c(r),i())}function i(){$("html,body").animate({scrollTop:$(".current-popular").offset().top-50},800)}function r(){var o=h;c(o)}function n(o){var t=$(".hero__heading"),e=$(".hero__date span"),a=$(".hero__rating span"),i=$(".hero__age-rating"),r=$(".hero__summary");g=$(".hero .movie-id"),mostPopular=o[6],bgImage="https://image.tmdb.org/t/p/original"+mostPopular.backdrop_path,heroImage='url("'+bgImage+'")',v.css({"background-image":heroImage}),t.text(mostPopular.title),e.text(mostPopular.release_date),a.text(mostPopular.vote_average),r.text(mostPopular.overview),g.text(mostPopular.id),"false"!=mostPopular.adult?i.text("Suitable for children"):i.text("Not suitable for children")}function s(o){for(var t=o.length,e=0;e<t;e++){var a=o[e];$(".js-grid-home .grid").append('<div class="grid__item one-quarter"><a href="" class="current-popular__item js-modal"><div class="current-popular__item-image" style="background-image: url(https://image.tmdb.org/t/p/w500/'+a.poster_path+' )"></div><div class="current-popular__item-info"><h2 class="current-popular__item-title">'+a.title+'</h2><div class="current-popular__item-rating">'+a.vote_average+'/10</div><div class="movie-id">'+a.id+'</div><div class="current-popular__item-arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31.49 31.49"><path d="M21.205 5.007c-.43-.444-1.143-.444-1.587 0-.43.43-.43 1.143 0 1.57l8.047 8.048H1.11c-.618 0-1.11.493-1.11 1.112 0 .62.492 1.127 1.11 1.127h26.555l-8.047 8.032c-.43.444-.43 1.16 0 1.587.444.444 1.16.444 1.587 0l9.952-9.952c.444-.428.444-1.142 0-1.57l-9.952-9.953z" fill="#fff"/></svg></div></div><div class="current-popular__item-quick-rating">'+a.vote_average+"/10</div></a></div>")}}function l(o){for(var t=0;t<f;t++){var e=o[t];$(".js-grid-popular .grid").append('<div class="grid__item one-quarter"><a href="" class="current-popular__item js-modal"><div class="current-popular__item-image" style="background-image: url(https://image.tmdb.org/t/p/w500/'+e.poster_path+' )"></div><div class="current-popular__item-info"><h2 class="current-popular__item-title">'+e.title+'</h2><div class="current-popular__item-rating">'+e.vote_average+'/10</div><div class="movie-id">'+e.id+'</div><div class="current-popular__item-arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31.49 31.49"><path d="M21.205 5.007c-.43-.444-1.143-.444-1.587 0-.43.43-.43 1.143 0 1.57l8.047 8.048H1.11c-.618 0-1.11.493-1.11 1.112 0 .62.492 1.127 1.11 1.127h26.555l-8.047 8.032c-.43.444-.43 1.16 0 1.587.444.444 1.16.444 1.587 0l9.952-9.952c.444-.428.444-1.142 0-1.57l-9.952-9.953z" fill="#fff"/></svg></div></div><div class="current-popular__item-quick-rating">'+e.vote_average+"/10</div></a></div>")}}function c(o){$.ajax({url:proxyUrl,data:{q:'SELECT * FROM json WHERE url="'+o+'"',format:"json",jsonCompat:"new"},dataType:"jsonp",success:function(o){var o=o.query.results.json;movieList=o.results,l(movieList),s(movieList),n(movieList),e()}})}function m(){p.on("submit",function(){return a(),!1}),$(window).on("load",function(){r()})}var u=$(".home__search"),p=$(".home__form"),d=$(".current-popular .grid"),v=$(".hero"),g=$(".movie-id"),h=""+movieDB+"discover/movie?sort_by=popularity.desc&api_key="+o,f=8;m()},e=function(){function t(o){var t="https://image.tmdb.org/t/p/original"+o.backdrop_path,e='url("'+t+'")';$(".modal__hero").css({"background-image":e}),$(".modal__title").text(o.title),$(".modal__summary").text(o.overview),history.replaceState(null,null,window.location.pathname+"?"+o.id)}function e(o){$(".modal__video a").attr("href","http://youtube.com/watch?v="+o)}function a(){$(".modal").fadeIn(300),$(".home").fadeOut(300),$(".home-wrapper").fadeOut(300),$("html, body").animate({scrollTop:$("body").offset().top},0)}function i(){$(".modal").fadeOut(300),$(".home").fadeIn(300),$(".home-wrapper").fadeIn(300)}function r(i){var r=""+movieDB+"movie/"+i+"?api_key="+o,n=""+movieDB+"movie/"+i+"/videos?api_key="+o;$.ajax({url:proxyUrl,data:{q:'SELECT * FROM json WHERE url="'+r+'"',format:"json",jsonCompat:"new"},dataType:"jsonp",success:function(o){var o=o.query.results.json;movieList=o.results,t(o),a()}}),$.ajax({url:proxyUrl,data:{q:'SELECT * FROM json WHERE url="'+n+'"',format:"json",jsonCompat:"new"},dataType:"jsonp",success:function(o){var o=o.query.results.json;videoID=o.results[0].key,e(videoID)}})}$(".hero__launch").on("click",function(){a()}),$(".site-header").on("click",function(){i()}),$(".js-modal").on("click",function(o){o.preventDefault();var t=$(this).closest("div").find(".movie-id"),e=t.text();r(e)})};t()};movii();var mobileMenu=function(){function o(){n.open||(i.addClass(r),n.open=!0)}function t(){n.open&&(i.removeClass(r),n.open=!1)}var e=$(".js-menu-open"),a=$(".js-menu-close"),i=$(".main-menu-container"),r="main-menu-container--open",n={open:!1};$(e).on("click",function(){o()}),$(a).on("click",function(){t()})};mobileMenu(),$(window).resize(function(){var o=function(){var o=$(".main-menu-container"),t="disable-transition",e="500";o.addClass(t),setTimeout(function(){o.removeClass(t)},e)}}),$(window).scroll(function(){var o=function(){var o=$(".site-header"),t=o.offset().top,e=o.outerHeight(!0),a=$(".main-menu-container"),i="main-menu-container--fixed";if(o.length){var r=t+e;$(window).scrollTop()>r?a.addClass(i):a.removeClass(i)}},t=function(){var o=$(".scroll-to-top"),t="scroll-to-top--show",e="500";$(window).scrollTop()>e?o.addClass(t):o.removeClass(t)}}),$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var o=$(this.hash);if(o=o.length?o:$("[name="+this.hash.slice(1)+"]"),o.length)return $("html, body").animate({scrollTop:o.offset().top},800),!1}})});