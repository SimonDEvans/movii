!function($){$(document).ready(function(){})}(jQuery);var homeCarousel=function(){function t(){o.animate({opacity:1},600,function(){o.animate({opacity:.6},600,function(){e++,e>a.length-1&&(e=0);var i=a[e];o.css("background-image","url("+i+")"),o.animate({opacity:1},600,function(){setTimeout(t,5e3)})})})}var o=$(".home__image"),e=0,a=["https://image.tmdb.org/t/p/original/PIXSMakrO3s2dqA7mCvAAoVR0E.jpg","https://image.tmdb.org/t/p/original/1jgulSytTJcATkGX8syGbD2glXD.jpg","https://image.tmdb.org/t/p/original/9X3cDZb4GYGQeOnZHLwMcCFz2Ro.jpg","https://image.tmdb.org/t/p/original/qXQinDhDZkTiqEGLnav0h1YSUu8.jpg","https://image.tmdb.org/t/p/original/cNLZ7YGRikb4IsLblrzu86ndZPw.jpg","https://image.tmdb.org/t/p/original/6bbZ6XyvgfjhQwbplnUh1LSj1ky.jpg","https://image.tmdb.org/t/p/original/dkMD5qlogeRMiEixC4YNPUvax2T.jpg"];setTimeout(t,5e3)};homeCarousel();var movii=function(){var t="d69ac47b3abbdd090506891feaac1088";proxyUrl="https://query.yahooapis.com/v1/public/yql",movieDB="https://api.themoviedb.org/3/";var o=function(){function o(){d.empty()}function a(){var e=m.val(),a=e.replace(/\s/g,"%20"),r=""+movieDB+"search/movie?query="+a+"&api_key="+t;0==a.trim().length?console.log("nada"):(o(),u(r),i())}function i(){$("html,body").animate({scrollTop:$(".current-popular").offset().top-50},800)}function r(){var t=f;u(t)}function n(t){var o=$(".hero__heading"),e=$(".hero__date span"),a=$(".hero__rating span"),i=$(".hero__age-rating"),r=$(".hero__summary");g=$(".hero .movie-id"),mostPopular=t[6],bgImage="https://image.tmdb.org/t/p/original"+mostPopular.backdrop_path,heroImage='url("'+bgImage+'")',v.css({"background-image":heroImage}),o.text(mostPopular.title),e.text(mostPopular.release_date),a.text(mostPopular.vote_average),r.text(mostPopular.overview),g.text(mostPopular.id),"false"!=mostPopular.adult?i.text("Suitable for children"):i.text("Not suitable for children")}function s(t){for(var o=t.length,e=0;e<o;e++){var a=t[e];$(".js-grid-home .grid").append('<div class="grid__item one-quarter"><a href="" class="current-popular__item js-modal"><div class="current-popular__item-image" style="background-image: url(https://image.tmdb.org/t/p/w500/'+a.poster_path+' )"></div><div class="current-popular__item-info"><h2 class="current-popular__item-title">'+a.title+'</h2><div class="current-popular__item-rating">'+a.vote_average+'/10</div><div class="movie-id">'+a.id+'</div><div class="current-popular__item-arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31.49 31.49"><path d="M21.205 5.007c-.43-.444-1.143-.444-1.587 0-.43.43-.43 1.143 0 1.57l8.047 8.048H1.11c-.618 0-1.11.493-1.11 1.112 0 .62.492 1.127 1.11 1.127h26.555l-8.047 8.032c-.43.444-.43 1.16 0 1.587.444.444 1.16.444 1.587 0l9.952-9.952c.444-.428.444-1.142 0-1.57l-9.952-9.953z" fill="#fff"/></svg></div></div><div class="current-popular__item-quick-rating">'+a.vote_average+"/10</div></a></div>")}}function l(t){for(var o=0;o<h;o++){var e=t[o];$(".js-grid-popular .grid").append('<div class="grid__item one-quarter"><a href="" class="current-popular__item js-modal"><div class="current-popular__item-image" style="background-image: url(https://image.tmdb.org/t/p/w500/'+e.poster_path+' )"></div><div class="current-popular__item-info"><h2 class="current-popular__item-title">'+e.title+'</h2><div class="current-popular__item-rating">'+e.vote_average+'/10</div><div class="movie-id">'+e.id+'</div><div class="current-popular__item-arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31.49 31.49"><path d="M21.205 5.007c-.43-.444-1.143-.444-1.587 0-.43.43-.43 1.143 0 1.57l8.047 8.048H1.11c-.618 0-1.11.493-1.11 1.112 0 .62.492 1.127 1.11 1.127h26.555l-8.047 8.032c-.43.444-.43 1.16 0 1.587.444.444 1.16.444 1.587 0l9.952-9.952c.444-.428.444-1.142 0-1.57l-9.952-9.953z" fill="#fff"/></svg></div></div><div class="current-popular__item-quick-rating">'+e.vote_average+"/10</div></a></div>")}}function u(t){$.ajax({url:proxyUrl,data:{q:'SELECT * FROM json WHERE url="'+t+'"',format:"json",jsonCompat:"new"},dataType:"jsonp",success:function(t){var t=t.query.results.json;movieList=t.results,l(movieList),s(movieList),n(movieList),e()}})}function c(){p.on("submit",function(){return a(),!1}),$(window).on("load",function(){r()})}var m=$(".home__search"),p=$(".home__form"),d=$(".current-popular .grid"),v=$(".hero"),g=$(".movie-id"),f=""+movieDB+"discover/movie?sort_by=popularity.desc&api_key="+t,h=8;c()},e=function(){function o(t){var o="https://image.tmdb.org/t/p/original"+t.backdrop_path,e='url("'+o+'")';s.css({"background-image":e}),l.text(t.title),u.text(t.overview)}function e(t){c.attr("href","http://youtube.com/watch?v="+t)}function a(){n.fadeIn(300),m.fadeOut(300),p.fadeOut(300),$("html, body").animate({scrollTop:$("body").offset().top},0)}function i(){n.fadeOut(300),m.fadeIn(300),p.fadeIn(300)}function r(i){var r=""+movieDB+"movie/"+i+"?api_key="+t,n=""+movieDB+"movie/"+i+"/videos?api_key="+t;$.ajax({url:proxyUrl,data:{q:'SELECT * FROM json WHERE url="'+r+'"',format:"json",jsonCompat:"new"},dataType:"jsonp",success:function(t){var t=t.query.results.json;movieList=t.results,o(t),a()}}),$.ajax({url:proxyUrl,data:{q:'SELECT * FROM json WHERE url="'+n+'"',format:"json",jsonCompat:"new"},dataType:"jsonp",success:function(t){var t=t.query.results.json;videoID=t.results[0].key,e(videoID)}})}var n=$(".modal"),s=$(".modal__hero"),l=$(".modal__title"),u=$(".modal__summary"),c=$(".modal__video a"),m=$(".home"),p=$(".home-wrapper"),d=$(".js-modal"),v=location.href;d.on("click",function(t){t.preventDefault();var o=$(this).closest("div").find(".movie-id"),e=o.text();history.pushState(null,null,null),r(e)}),window.onpopstate=function(t){i()}};o()};movii();var mobileMenu=function(){function t(){n.open||(i.addClass(r),n.open=!0)}function o(){n.open&&(i.removeClass(r),n.open=!1)}var e=$(".js-menu-open"),a=$(".js-menu-close"),i=$(".main-menu-container"),r="main-menu-container--open",n={open:!1};$(e).on("click",function(){t()}),$(a).on("click",function(){o()})};mobileMenu(),$(window).resize(function(){var t=function(){var t=$(".main-menu-container"),o="disable-transition",e="500";t.addClass(o),setTimeout(function(){t.removeClass(o)},e)}}),$(window).scroll(function(){var t=function(){var t=$(".site-header"),o=t.offset().top,e=t.outerHeight(!0),a=$(".main-menu-container"),i="main-menu-container--fixed";if(t.length){var r=o+e;$(window).scrollTop()>r?a.addClass(i):a.removeClass(i)}},o=function(){var t=$(".scroll-to-top"),o="scroll-to-top--show",e="500";$(window).scrollTop()>e?t.addClass(o):t.removeClass(o)}}),$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top},800),!1}})});